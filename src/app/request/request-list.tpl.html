<!-- Begin page heading -->
<h1 class="page-heading">Pedidos
    <small>Elegí una publicación y empezá a colaborar!</small>
</h1>

<ol class="breadcrumb default square rsaquo sm">
    <li>
        <a href="index.html"><i class="fa fa-home"></i></a>
    </li>
    <li class="active">Pedidos</li>
</ol>

<div class="container-masonry">
    <ol>
        <li class="item-masonry" ng-repeat="request in requests">
            <div class="the-box no-border full store-item text-center mansory-inner">

                <img data-ng-src="{{request.image[0].path}}" class="item-image img-responsive" alt="Image" ui-sref="web.requestDetail({id: request.id})">

                <div class="the-box bg-default no-margin no-border item-des">
                    <p class="text-muted">
                        {{request.object.description}}
                    </p>

                    <h3><a class="bolded" ui-sref="web.requestDetail({id: request.id})">{{request.title}}</a>
                    </h3>

                    <p>{{request.description}}</p>

                    <p>{{message}}</p>

                    <strong class="text-left" ng-if="request.category.id == '9'">Recaudado: <span id="currency-default">{{ request.amountCollected[0].quan | currency}}</span></strong>
                    <div ng-if="request.category.id == '9'" class="progress no-rounded progress-sm progress-striped">
                        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="request.amountCollected[0].quan" aria-valuemin="0" aria-valuemax="100" style="width: {{request.progressValue}}%">
                        </div>
                    </div>

                    <a href="#/checkout/money/{{request.id}}" ng-if="request.isOwner == '0' && request.category.id == '9' && request.processState.id == 'V'" class="btn btn-danger btn-block">
                        <span class="glyphicon glyphicon-ok"></span>Quiero ayudar!
                    </a>

                    <a href="#/checkout/request/{{request.id}}" ng-if="request.isOwner == '0' && request.category.id != '9' && request.processState.id == 'V'" class="btn btn-danger btn-block">
                        <span class="glyphicon glyphicon-ok"></span>Quiero ayudar!
                    </a>

                    <div class="row extra-data">
                        <div class="col-md-6 col-xs-6 text-left">
                            <a href ng-click="toggleFavorite()" title="Favorito">
                                <i class="glyphicon glyphicon-heart text-muted" ng-class="{'text-warning': request.isFavorite == '1'}"></i>
                            </a>
                            {{request.favorites[0].quan}}
                        </div>
                        <div class="col-md-6 col-xs-6 text-right">
                            <i class="glyphicon glyphicon-eye-open text-muted"></i> {{request.views}}
                        </div>
                    </div>
                </div>
            </div>
        </li>
    </ol>
</div>
